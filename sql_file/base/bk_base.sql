/*
 Navicat Premium Data Transfer

 Source Server         : 华为云
 Source Server Type    : MySQL
 Source Server Version : 50744
 Source Host           : 113.45.186.233:3306
 Source Schema         : bk_base

 Target Server Type    : MySQL
 Target Server Version : 50744
 File Encoding         : 65001

 Date: 28/04/2024 17:37:03
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for bk_blog
-- ----------------------------
DROP TABLE IF EXISTS `bk_blog`;
CREATE TABLE `bk_blog`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL COMMENT '用户id',
  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '标题',
  `content` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL COMMENT '文章内容',
  `mk_content` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL COMMENT 'markDown文章内容',
  `imgurl` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '首页图片',
  `sort_id` int(11) NULL DEFAULT NULL COMMENT '分类id',
  `sort_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '分类名称',
  `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '文章类型',
  `is_top` tinyint(1) NULL DEFAULT 0 COMMENT '是否置顶',
  `tag` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '标签',
  `status` int(255) NULL DEFAULT NULL COMMENT '文章类型 0正文 1草稿',
  `sub_title` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '副标题',
  `read_amount` bigint(20) NULL DEFAULT 0 COMMENT '阅读量',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 21 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_blog
-- ----------------------------
INSERT INTO `bk_blog` VALUES (1, 36, 'Spring Boot | 一种优雅的参数校验方案（个人总结）', '<div id=\"article-root\" itemprop=\"articleBody\" class=\"article-viewer markdown-body cache result\" data-v-2c6459d4>\n <style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:\" \";display:inline-block;width:8px}.markdown-body h2:after{content:\" \";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:\"\";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre>code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style>\n <style data-highlight data-highlight-key=\"atom-one-light\">.markdown-body pre,.markdown-body pre>code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>\n <h2 data-id=\"heading-0\">1、前言</h2> \n <p>在平时的开发工作中，我们通常需要对接口进行参数格式验证。当参数个数较少（个数小于3）时，可以使用<code class=\"lang-java\">if ... else ...</code>手动进行参数验证。当参数个数大于3个时，使用<code class=\"lang-java\">if ... else ...</code>进行参数验证就会让代码显得臃肿，这个时候推荐使用注解来进行参数验证。</p> \n <h2 data-id=\"heading-1\">2、常用注解</h2> \n <p>下面列举一些常用的验证注解：</p> \n <ol start=\"0\"> \n  <li><code class=\"lang-java\">@NotNull</code>：值不能为null；</li> \n  <li><code class=\"lang-java\">@NotEmpty</code>：字符串、集合或数组的值不能为空，即长度大于0；</li> \n  <li><code class=\"lang-java\">@NotBlank</code>：字符串的值不能为空白，即不能只包含空格；</li> \n  <li><code class=\"lang-java\">@Size</code>：字符串、集合或数组的大小是否在指定范围内；</li> \n  <li><code class=\"lang-java\">@Min</code>：数值的最小值；</li> \n  <li><code class=\"lang-java\">@Max</code>：数值的最大值；</li> \n  <li><code class=\"lang-java\">@DecimalMin</code>：数值的最小值，可以包含小数；</li> \n  <li><code class=\"lang-java\">@DecimalMax</code>：数值的最大值，可以包含小数；</li> \n  <li><code class=\"lang-java\">@Digits</code>：数值是否符合指定的整数和小数位数；</li> \n  <li><code class=\"lang-java\">@Pattern</code>：字符串是否匹配指定的正则表达式；</li> \n  <li><code class=\"lang-java\">@Email</code>：字符串是否为有效的电子邮件地址；</li> \n  <li><code class=\"lang-java\">@AssertTrue</code>：布尔值是否为true；</li> \n  <li><code class=\"lang-java\">@AssertFalse</code>：布尔值是否为false；</li> \n  <li><code class=\"lang-java\">@Future</code>：日期是否为将来的日期；</li> \n  <li><code class=\"lang-java\">@Past</code>：日期是否为过去的日期；</li> \n </ol> \n <h2 data-id=\"heading-2\">3、实现示例</h2> \n <h3 data-id=\"heading-3\">3.1 创建项目，添加依赖</h3> \n <blockquote> \n  <p>本示例中使用的spring boot 版本为<code class=\"lang-java\">2.7.7</code>。</p> \n </blockquote> \n <p>使用<code class=\"lang-java\">IDEA</code>创建一个<code class=\"lang-java\">spring boot</code>项目。在项目的<code class=\"lang-java\">pom.xml</code>文件中添加如下依赖：</p> \n <pre><code class=\"hljs language-xml\" lang=\"xml\">&nbsp;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n&nbsp; &nbsp; &nbsp;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n&nbsp; &nbsp; &nbsp;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n&nbsp;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n&nbsp;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n&nbsp; &nbsp; &nbsp;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n&nbsp; &nbsp; &nbsp;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-validation<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n&nbsp;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre> \n <h3 data-id=\"heading-4\">3.2 创建示例实体类</h3> \n <p>创建一个<code class=\"lang-java\">User</code>实体类，在实体类中需要对属性进行如下验证：</p> \n <ul> \n  <li><code class=\"lang-java\">name</code> - 用户姓名，不能为空；</li> \n  <li><code class=\"lang-java\">password</code> - 密码，不能为空，长度不能小于6；</li> \n  <li><code class=\"lang-java\">age</code> - 年龄，大于0小于150；</li> \n  <li><code class=\"lang-java\">phone</code> - 手机号，满足手机号格式；</li> \n </ul> \n <p><code class=\"lang-java\">User</code>实体类具体代码如下：</p> \n <pre><code class=\"hljs language-less\" lang=\"less\">&nbsp;<span class=\"hljs-selector-tag\">import</span> <span class=\"hljs-selector-tag\">lombok</span><span class=\"hljs-selector-class\">.Data</span>;\n&nbsp;<span class=\"hljs-selector-tag\">import</span> <span class=\"hljs-selector-tag\">javax</span><span class=\"hljs-selector-class\">.validation</span><span class=\"hljs-selector-class\">.constraints</span>.*;\n&nbsp;​\n&nbsp;@<span class=\"hljs-selector-tag\">Data</span>\n&nbsp;<span class=\"hljs-selector-tag\">public</span> <span class=\"hljs-selector-tag\">class</span> <span class=\"hljs-selector-tag\">User</span> {\n&nbsp;​\n&nbsp;  <span class=\"hljs-variable\">@NotBlank</span>(message = <span class=\"hljs-string\">\"用户姓名不能为空\"</span>)\n&nbsp;  private String name;\n&nbsp;​\n&nbsp;  <span class=\"hljs-variable\">@NotBlank</span>(message = <span class=\"hljs-string\">\"密码不能为空\"</span>)\n&nbsp;  <span class=\"hljs-variable\">@Size</span>(min = <span class=\"hljs-number\">6</span>, message = <span class=\"hljs-string\">\"密码长度不能少于6位\"</span>)\n&nbsp;  private String password;\n&nbsp;​\n&nbsp;  <span class=\"hljs-variable\">@Min</span>(value = <span class=\"hljs-number\">0</span>, message = <span class=\"hljs-string\">\"年龄不能小于0岁\"</span>)\n&nbsp;  <span class=\"hljs-variable\">@Max</span>(value = <span class=\"hljs-number\">150</span>, message = <span class=\"hljs-string\">\"年龄不应超过150岁\"</span>)\n&nbsp;  private Integer age;\n&nbsp;​\n&nbsp;  <span class=\"hljs-variable\">@Pattern</span>(regexp = <span class=\"hljs-string\">\"^((13[0-9])|(15[^4])|(18[0-9])|(17[0-9])|(147))\\d{8}$\"</span>, message = <span class=\"hljs-string\">\"手机号格式不正确\"</span>)\n&nbsp;  private String phone;\n&nbsp;​\n&nbsp;}\n&nbsp;​\n</code></pre> \n <h3 data-id=\"heading-5\">3.3 创建控制器类</h3> \n <p>创建一个简单的控制器类，用于演示参数验证功能。</p> \n <p>控制器代码如下：</p> \n <pre><code class=\"hljs language-kotlin\" lang=\"kotlin\">&nbsp;<span class=\"hljs-keyword\">import</span> cn.ddcherry.springboot.demo.util.R;\n&nbsp;<span class=\"hljs-keyword\">import</span> cn.ddcherry.springboot.demo.entity.User;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.web.bind.<span class=\"hljs-keyword\">annotation</span>.PostMapping;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.web.bind.<span class=\"hljs-keyword\">annotation</span>.RequestBody;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.web.bind.<span class=\"hljs-keyword\">annotation</span>.RequestMapping;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.web.bind.<span class=\"hljs-keyword\">annotation</span>.RestController;\n&nbsp;​\n&nbsp;<span class=\"hljs-keyword\">import</span> javax.validation.Valid;\n&nbsp;​\n&nbsp;<span class=\"hljs-meta\">@RestController</span>\n&nbsp;<span class=\"hljs-meta\">@RequestMapping(<span class=\"hljs-string\">\"/user\"</span>)</span>\n&nbsp;<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserController</span> {\n&nbsp;​\n&nbsp;  <span class=\"hljs-meta\">@PostMapping(<span class=\"hljs-string\">\"/save\"</span>)</span>\n&nbsp;  <span class=\"hljs-keyword\">public</span> R save(<span class=\"hljs-meta\">@Valid</span> <span class=\"hljs-meta\">@RequestBody</span> User user) {\n&nbsp;    <span class=\"hljs-keyword\">return</span> R.ok(user);\n&nbsp;  }\n&nbsp;}\n</code></pre> \n <p>我们在参数<code class=\"lang-java\">user</code>前添加<code class=\"lang-java\">@Valid</code>注解，表示验证该参数。</p> \n <p>其中<code class=\"lang-java\">R</code>是封装的一个简易工具类，用于统一返回结果格式。代码如下：</p> \n <pre><code class=\"hljs language-typescript\" lang=\"typescript\">&nbsp;<span class=\"hljs-keyword\">import</span> lombok.<span class=\"hljs-property\">Data</span>;\n&nbsp;​\n&nbsp;<span class=\"hljs-keyword\">import</span> java.<span class=\"hljs-property\">io</span>.<span class=\"hljs-property\">Serializable</span>;\n&nbsp;​\n&nbsp;<span class=\"hljs-meta\">@Data</span>\n&nbsp;<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">R</span>&lt;T&gt; <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Serializable</span> {\n&nbsp;  <span class=\"hljs-keyword\">private</span> int code;\n&nbsp;  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">boolean</span> success;\n&nbsp;  <span class=\"hljs-keyword\">private</span> T data;\n&nbsp;  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-title class_\">String</span> msg;\n&nbsp;​\n&nbsp;  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-title function_\">R</span>(<span class=\"hljs-params\">int code, T data, <span class=\"hljs-built_in\">String</span> msg</span>) {\n&nbsp;    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">code</span> = code;\n&nbsp;    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">data</span> = data;\n&nbsp;    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">msg</span> = msg;\n&nbsp;    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">success</span> = code == <span class=\"hljs-number\">200</span>;\n&nbsp;  }\n&nbsp;​\n&nbsp;  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> &lt;T&gt; R&lt;T&gt; <span class=\"hljs-title function_\">ok</span>(<span class=\"hljs-params\">T data</span>) {\n&nbsp;    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> R&lt;&gt;(<span class=\"hljs-number\">200</span>, data, <span class=\"hljs-literal\">null</span>);\n&nbsp;  }\n&nbsp;​\n&nbsp;  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> &lt;T&gt; R&lt;T&gt; <span class=\"hljs-title function_\">error</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">String</span> msg</span>) {\n&nbsp;    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> R&lt;&gt;(<span class=\"hljs-number\">500</span>, <span class=\"hljs-literal\">null</span>, msg);\n&nbsp;  }\n&nbsp;}\n</code></pre> \n <h3 data-id=\"heading-6\">3.4 定义全局异常处理类</h3> \n <p>全局异常处理类代码如下：</p> \n <pre><code class=\"hljs language-kotlin\" lang=\"kotlin\">&nbsp;<span class=\"hljs-keyword\">import</span> cn.ddcherry.springboot.demo.util.R;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.validation.BindException;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.validation.BindingResult;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.web.bind.<span class=\"hljs-keyword\">annotation</span>.ExceptionHandler;\n&nbsp;<span class=\"hljs-keyword\">import</span> org.springframework.web.bind.<span class=\"hljs-keyword\">annotation</span>.RestControllerAdvice;\n&nbsp;​\n&nbsp;<span class=\"hljs-meta\">@RestControllerAdvice</span>\n&nbsp;<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GlobalExceptionHandler</span> {\n&nbsp;​\n&nbsp;  <span class=\"hljs-meta\">@ExceptionHandler(BindException.class)</span>\n&nbsp;  <span class=\"hljs-keyword\">public</span> R handleError(BindException e) {\n&nbsp;    BindingResult bindingResult = e.getBindingResult();\n&nbsp;    <span class=\"hljs-keyword\">return</span> R.error(bindingResult.getFieldError().getDefaultMessage());\n&nbsp;  }\n&nbsp;}\n</code></pre> \n <p>我们在全局异常处理类中使用<code class=\"lang-java\">ExceptionHandler</code>捕获<code class=\"lang-java\">BindException</code>异常，获取参数验证异常信息，最后返回统一的异常结果格式。</p> \n <h3 data-id=\"heading-7\">3.5 测试</h3> \n <p>在接口测试工具中测试接口。</p> \n <p>以密码长度不足6位为例，返回的结果如下图所示：</p> \n <p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ce3f5f25c4a42a2a4fd1c3831ada39d~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=657&amp;h=413&amp;s=28291&amp;e=png&amp;b=fdfdfc\" alt=\"image-20230925143558493\" loading=\"lazy\"></p> \n <h3 data-id=\"heading-8\">3.6 小结</h3> \n <p>至此，我们就简单地讲述了Spring Boot项目使用<code class=\"lang-java\">@Valid</code>注解进行参数验证的实现步骤。示例的验证逻辑流程如下图所示：</p> \n <p><img src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df32e0d24e5e446e9efeba3417b1c8ab~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=591&amp;h=459&amp;s=23724&amp;e=png&amp;b=fefefe\" alt=\"Snipaste_2023-11-11_16-52-58.png\" loading=\"lazy\"></p> \n <h2 data-id=\"heading-9\">4、进阶</h2> \n <h3 data-id=\"heading-10\">4.1 @Valid与@Validated的区别</h3> \n <p>用于参数校验的注解通常有两个：<code class=\"lang-java\">@Valid</code>和<code class=\"lang-java\">@Validated</code>。它们的区别有如下几点：</p> \n <table>\n  <thead>\n   <tr>\n    <th>区别</th>\n    <th>@Valid</th>\n    <th>@Validated</th>\n   </tr>\n  </thead>\n  <tbody>\n   <tr>\n    <td>来源</td>\n    <td><code class=\"lang-java\">@Valid</code>是Java标准注解</td>\n    <td><code class=\"lang-java\">@Validated</code>是Spring框架定义的注解。</td>\n   </tr>\n   <tr>\n    <td>是否支持分组验证</td>\n    <td>不支持</td>\n    <td>支持</td>\n   </tr>\n   <tr>\n    <td>使用位置</td>\n    <td>构造函数、方法、方法参数、成员属性</td>\n    <td>类、方法、方法参数，<strong>不能用于成员属性</strong></td>\n   </tr>\n   <tr>\n    <td>是否支持嵌套校验</td>\n    <td>支持</td>\n    <td>不支持</td>\n   </tr>\n  </tbody>\n </table> \n <h3 data-id=\"heading-11\">4.2 自定义验证注解</h3> \n <p>除了框架自带的注解，平时的工作中可能需要我们自定义验证注解处理特定的业务需求。这里汪小成将上面<code class=\"lang-java\">User</code>类中的手机号格式验证改成使用自定义注解的验证方式。</p> \n <p>4.2.1 定义注解</p> \n <pre><code class=\"hljs language-less\" lang=\"less\">&nbsp;<span class=\"hljs-variable\">@Documented</span>\n&nbsp;<span class=\"hljs-variable\">@Retention</span>(RUNTIME)\n&nbsp;<span class=\"hljs-variable\">@Constraint</span>(validatedBy = {PhoneValidator.class})\n&nbsp;<span class=\"hljs-variable\">@Target</span>({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\n&nbsp;public <span class=\"hljs-variable\">@interface</span> Phone {\n&nbsp;​\n&nbsp;  <span class=\"hljs-selector-tag\">String</span> <span class=\"hljs-selector-tag\">message</span>() <span class=\"hljs-selector-tag\">default</span> \"手机号格式错误\";\n&nbsp;​\n&nbsp;  <span class=\"hljs-selector-tag\">Class</span>&lt;?&gt;<span class=\"hljs-selector-attr\">[]</span> <span class=\"hljs-selector-tag\">groups</span>() <span class=\"hljs-selector-tag\">default</span> {};\n&nbsp;​\n&nbsp;  <span class=\"hljs-selector-tag\">Class</span>&lt;? <span class=\"hljs-selector-tag\">extends</span> <span class=\"hljs-selector-tag\">Payload</span>&gt;<span class=\"hljs-selector-attr\">[]</span> <span class=\"hljs-selector-tag\">payload</span>() <span class=\"hljs-selector-tag\">default</span> {};\n&nbsp;}\n</code></pre> \n <p>说明：</p> \n <ul> \n  <li><code class=\"lang-java\">@Constraint(validatedBy = {PhoneValidator.class})</code>：用于指定验证器类；</li> \n  <li><code class=\"lang-java\">@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})</code>：指定<code class=\"lang-java\">@Phone</code>注解可以作用在方法、字段、构造函数、参数以及类型上；</li> \n </ul> \n <p>4.2.2 定义验证器类</p> \n <pre><code class=\"hljs language-java\" lang=\"java\">&nbsp;<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">PhoneValidator</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">ConstraintValidator</span>&lt;Phone, String&gt; {\n&nbsp;  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">Logger</span> <span class=\"hljs-variable\">LOGGER</span> <span class=\"hljs-operator\">=</span> LoggerFactory.getLogger(PhoneValidator.class);\n&nbsp;  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">REGEX</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">\"^((13[0-9])|(15[^4])|(18[0-9])|(17[0-9])|(147))\\d{8}$\"</span>;\n&nbsp;​\n&nbsp;  <span class=\"hljs-meta\">@Override</span>\n&nbsp;  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">isValid</span><span class=\"hljs-params\">(String s, ConstraintValidatorContext context)</span> {\n&nbsp;    <span class=\"hljs-type\">boolean</span> <span class=\"hljs-variable\">result</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-literal\">false</span>;\n&nbsp;    <span class=\"hljs-keyword\">try</span> {\n&nbsp;      result = Pattern.matches(REGEX, s);\n&nbsp;    } <span class=\"hljs-keyword\">catch</span> (Exception e) {\n&nbsp;      LOGGER.error(<span class=\"hljs-string\">\"验证手机号格式时发生异常，异常信息：\"</span>, e);\n&nbsp;    }\n&nbsp;    <span class=\"hljs-keyword\">return</span> result;\n&nbsp;  }\n&nbsp;}\n</code></pre> \n <p>4.2.3 使用注解</p> \n <pre><code class=\"hljs language-kotlin\" lang=\"kotlin\">&nbsp;<span class=\"hljs-meta\">@Data</span>\n&nbsp;<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">User</span> {\n&nbsp;​\n&nbsp;  <span class=\"hljs-comment\">// 省略其它代码</span>\n&nbsp;​\n&nbsp;- <span class=\"hljs-comment\">//  @Pattern(regexp = \"^((13[0-9])|(15[^4])|(18[0-9])|(17[0-9])|(147))\\d{8}$\", message = \"手机号格式不正确\")</span>\n&nbsp;+ <span class=\"hljs-meta\">@Phone</span>\n&nbsp;  <span class=\"hljs-keyword\">private</span> String phone;\n&nbsp;​\n&nbsp;}\n&nbsp;​\n</code></pre> \n <p>这样我们就成功地使用自定义注解<code class=\"lang-java\">@Phone</code>验证手机号格式了。</p> \n <p>使用自定义注解实现业务验证的一个比较大的优点是<strong>可以复用</strong>。所有需要进行手机号格式验证的属性，只需要添加上<code class=\"lang-java\">@Phone</code>注解就可以了。如果后期我们需要修改手机号的验证规则，只需要修改<code class=\"lang-java\">PhoneValidator</code>类中的验证逻辑，就可以作用于所有添加了<code class=\"lang-java\">@Phone</code>注解的字段了。</p>\n</div>文章转载至https://juejin.cn/post/7295540969407250441', '1、前言 {#article-root}\n--------------------\n\n在平时的开发工作中，我们通常需要对接口进行参数格式验证。当参数个数较少（个数小于3）时，可以使用`if ... else ...`手动进行参数验证。当参数个数大于3个时，使用`if ... else ...`进行参数验证就会让代码显得臃肿，这个时候推荐使用注解来进行参数验证。\n\n2、常用注解\n------\n\n下面列举一些常用的验证注解：\n\n0. `@NotNull`：值不能为null；\n1. `@NotEmpty`：字符串、集合或数组的值不能为空，即长度大于0；\n2. `@NotBlank`：字符串的值不能为空白，即不能只包含空格；\n3. `@Size`：字符串、集合或数组的大小是否在指定范围内；\n4. `@Min`：数值的最小值；\n5. `@Max`：数值的最大值；\n6. `@DecimalMin`：数值的最小值，可以包含小数；\n7. `@DecimalMax`：数值的最大值，可以包含小数；\n8. `@Digits`：数值是否符合指定的整数和小数位数；\n9. `@Pattern`：字符串是否匹配指定的正则表达式；\n10. `@Email`：字符串是否为有效的电子邮件地址；\n11. `@AssertTrue`：布尔值是否为true；\n12. `@AssertFalse`：布尔值是否为false；\n13. `@Future`：日期是否为将来的日期；\n14. `@Past`：日期是否为过去的日期；\n\n3、实现示例\n------\n\n### 3.1 创建项目，添加依赖\n\n> 本示例中使用的spring boot 版本为`2.7.7`。\n\n使用`IDEA`创建一个`spring boot`项目。在项目的`pom.xml`文件中添加如下依赖：\n\n```hljs language-xml\n <dependency>\n     <groupId>org.springframework.boot</groupId>\n     <artifactId>spring-boot-starter-web</artifactId>\n </dependency>\n <dependency>\n     <groupId>org.springframework.boot</groupId>\n     <artifactId>spring-boot-starter-validation</artifactId>\n </dependency>\n```\n\n### 3.2 创建示例实体类\n\n创建一个`User`实体类，在实体类中需要对属性进行如下验证：\n\n* `name` - 用户姓名，不能为空；\n* `password` - 密码，不能为空，长度不能小于6；\n* `age` - 年龄，大于0小于150；\n* `phone` - 手机号，满足手机号格式；\n\n`User`实体类具体代码如下：\n\n```hljs language-less\n import lombok.Data;\n import javax.validation.constraints.*;\n ​\n @Data\n public class User {\n ​\n   @NotBlank(message = \"用户姓名不能为空\")\n   private String name;\n ​\n   @NotBlank(message = \"密码不能为空\")\n   @Size(min = 6, message = \"密码长度不能少于6位\")\n   private String password;\n ​\n   @Min(value = 0, message = \"年龄不能小于0岁\")\n   @Max(value = 150, message = \"年龄不应超过150岁\")\n   private Integer age;\n ​\n   @Pattern(regexp = \"^((13[0-9])|(15[^4])|(18[0-9])|(17[0-9])|(147))\\d{8}$\", message = \"手机号格式不正确\")\n   private String phone;\n ​\n }\n ​\n```\n\n### 3.3 创建控制器类\n\n创建一个简单的控制器类，用于演示参数验证功能。\n\n控制器代码如下：\n\n```hljs language-kotlin\n import cn.ddcherry.springboot.demo.util.R;\n import cn.ddcherry.springboot.demo.entity.User;\n import org.springframework.web.bind.annotation.PostMapping;\n import org.springframework.web.bind.annotation.RequestBody;\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RestController;\n ​\n import javax.validation.Valid;\n ​\n @RestController\n @RequestMapping(\"/user\")\n public class UserController {\n ​\n   @PostMapping(\"/save\")\n   public R save(@Valid @RequestBody User user) {\n     return R.ok(user);\n   }\n }\n```\n\n我们在参数`user`前添加`@Valid`注解，表示验证该参数。\n\n其中`R`是封装的一个简易工具类，用于统一返回结果格式。代码如下：\n\n```hljs language-typescript\n import lombok.Data;\n ​\n import java.io.Serializable;\n ​\n @Data\n public class R<T> implements Serializable {\n   private int code;\n   private boolean success;\n   private T data;\n   private String msg;\n ​\n   private R(int code, T data, String msg) {\n     this.code = code;\n     this.data = data;\n     this.msg = msg;\n     this.success = code == 200;\n   }\n ​\n   public static <T> R<T> ok(T data) {\n     return new R<>(200, data, null);\n   }\n ​\n   public static <T> R<T> error(String msg) {\n     return new R<>(500, null, msg);\n   }\n }\n```\n\n### 3.4 定义全局异常处理类\n\n全局异常处理类代码如下：\n\n```hljs language-kotlin\n import cn.ddcherry.springboot.demo.util.R;\n import org.springframework.validation.BindException;\n import org.springframework.validation.BindingResult;\n import org.springframework.web.bind.annotation.ExceptionHandler;\n import org.springframework.web.bind.annotation.RestControllerAdvice;\n ​\n @RestControllerAdvice\n public class GlobalExceptionHandler {\n ​\n   @ExceptionHandler(BindException.class)\n   public R handleError(BindException e) {\n     BindingResult bindingResult = e.getBindingResult();\n     return R.error(bindingResult.getFieldError().getDefaultMessage());\n   }\n }\n```\n\n我们在全局异常处理类中使用`ExceptionHandler`捕获`BindException`异常，获取参数验证异常信息，最后返回统一的异常结果格式。\n\n### 3.5 测试\n\n在接口测试工具中测试接口。\n\n以密码长度不足6位为例，返回的结果如下图所示：\n\n![image-20230925143558493](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ce3f5f25c4a42a2a4fd1c3831ada39d~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=657&h=413&s=28291&e=png&b=fdfdfc)\n\n### 3.6 小结\n\n至此，我们就简单地讲述了Spring Boot项目使用`@Valid`注解进行参数验证的实现步骤。示例的验证逻辑流程如下图所示：\n\n![Snipaste_2023-11-11_16-52-58.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df32e0d24e5e446e9efeba3417b1c8ab~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=591&h=459&s=23724&e=png&b=fefefe)\n\n4、进阶\n----\n\n### 4.1 @Valid与@Validated的区别\n\n用于参数校验的注解通常有两个：`@Valid`和`@Validated`。它们的区别有如下几点：\n\n|    区别    |      @Valid       |         @Validated          |\n|----------|-------------------|-----------------------------|\n| 来源       | `@Valid`是Java标准注解 | `@Validated`是Spring框架定义的注解。 |\n| 是否支持分组验证 | 不支持               | 支持                          |\n| 使用位置     | 构造函数、方法、方法参数、成员属性 | 类、方法、方法参数，**不能用于成员属性**      |\n| 是否支持嵌套校验 | 支持                | 不支持                         |\n\n### 4.2 自定义验证注解\n\n除了框架自带的注解，平时的工作中可能需要我们自定义验证注解处理特定的业务需求。这里汪小成将上面`User`类中的手机号格式验证改成使用自定义注解的验证方式。\n\n4.2.1 定义注解\n\n```hljs language-less\n @Documented\n @Retention(RUNTIME)\n @Constraint(validatedBy = {PhoneValidator.class})\n @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\n public @interface Phone {\n ​\n   String message() default \"手机号格式错误\";\n ​\n   Class<?>[] groups() default {};\n ​\n   Class<? extends Payload>[] payload() default {};\n }\n```\n\n说明：\n\n* `@Constraint(validatedBy = {PhoneValidator.class})`：用于指定验证器类；\n* `@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})`：指定`@Phone`注解可以作用在方法、字段、构造函数、参数以及类型上；\n\n4.2.2 定义验证器类\n\n```hljs language-java\n public class PhoneValidator implements ConstraintValidator<Phone, String> {\n   private static final Logger LOGGER = LoggerFactory.getLogger(PhoneValidator.class);\n   private static final String REGEX = \"^((13[0-9])|(15[^4])|(18[0-9])|(17[0-9])|(147))\\d{8}$\";\n ​\n   @Override\n   public boolean isValid(String s, ConstraintValidatorContext context) {\n     boolean result = false;\n     try {\n       result = Pattern.matches(REGEX, s);\n     } catch (Exception e) {\n       LOGGER.error(\"验证手机号格式时发生异常，异常信息：\", e);\n     }\n     return result;\n   }\n }\n```\n\n4.2.3 使用注解\n\n```hljs language-kotlin\n @Data\n public class User {\n ​\n   // 省略其它代码\n ​\n - //  @Pattern(regexp = \"^((13[0-9])|(15[^4])|(18[0-9])|(17[0-9])|(147))\\d{8}$\", message = \"手机号格式不正确\")\n + @Phone\n   private String phone;\n ​\n }\n ​\n```\n\n这样我们就成功地使用自定义注解`@Phone`验证手机号格式了。\n\n使用自定义注解实现业务验证的一个比较大的优点是**可以复用** 。所有需要进行手机号格式验证的属性，只需要添加上`@Phone`注解就可以了。如果后期我们需要修改手机号的验证规则，只需要修改`PhoneValidator`类中的验证逻辑，就可以作用于所有添加了`@Phone`注解的字段了。\n文章转载至https://juejin.cn/post/7295540969407250441\n', NULL, NULL, NULL, NULL, 0, NULL, 1, 'Spring Boot | 一种优雅的参数校验方案（个人总结）', 0, '2023-12-28 12:55:44', '2024-04-25 16:24:15', 0);
INSERT INTO `bk_blog` VALUES (2, 36, 'springboot实现第三方登陆----微博登录', '<div id=\"article_content\" class=\"article_content clearfix\"> \n <link rel=\"stylesheet\" href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/kdoc_html_views-1a98987dfd.css\"> \n <link rel=\"stylesheet\" href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/ck_htmledit_views-044f2cf1dc.css\"> \n <div id=\"content_views\" class=\"markdown_views prism-atom-one-dark\"> \n  <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display: none;\"> <path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path> \n  </svg> \n  <h4><a id=\"_0\"></a>三方登录之微博登陆</h4> \n  <h5><a id=\"_2\"></a>准备工作</h5> \n  <blockquote> \n   <p>注册微博开放平台</p> \n  </blockquote> \n  <p><strong>注册地址:</strong> https://open.weibo.com/</p> \n  <p><strong>之后选择网站接入填写对应信息</strong><br> <img src=\"https://img-blog.csdnimg.cn/20200528181804475.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgwMDgyOQ==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br> <strong>基本信息照的这个填写</strong>：</p> \n  <p><img src=\"https://img-blog.csdnimg.cn/20200528181853743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgwMDgyOQ==,size_16,color_FFFFFF,t_70\" alt=\"[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gI7zAMOv-1590661039292)(C:\\Users\\小哥\\Desktop\\mark笔记\\框架系列\\三方登录\\assets\\1590659018155.png)]\"></p> \n  <p><strong>高级信息是你内网穿透的地址</strong></p> \n  <p><img src=\"https://img-blog.csdnimg.cn/20200528181933196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgwMDgyOQ==,size_16,color_FFFFFF,t_70\" alt=\"[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-FMgB1ZB3-1590661039295)(C:\\Users\\小哥\\Desktop\\mark笔记\\框架系列\\三方登录\\assets\\1590659077906.png)]\"></p> \n  <blockquote> \n   <p>内网穿透</p> \n  </blockquote> \n  <p>内网穿透工具地址：https://www.cpolar.com/</p> \n  <p>下载 跑起来之后是这个样子</p> \n  <p><img src=\"https://img-blog.csdnimg.cn/20200528181953927.png\" alt=\"[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-iYYOjLrC-1590661039300)(C:\\Users\\小哥\\Desktop\\mark笔记\\框架系列\\三方登录\\assets\\1590659175156.png)]\"></p> \n  <p><strong>有一个http的请求和一个https的请求，用哪个都是一样的</strong>，<strong>这样就可以被外网访问到了</strong></p> \n  <h5><a id=\"_30\"></a>你需要用到的三个连接</h5> \n  <blockquote> \n   <p>https://api.weibo.com/oauth2/authorize?client_id=你的appkey&amp;response_type=code&amp;redirect_uri=你的回调地址 （微博请求你的时候会在你的回调地址后加一个code参数，这个参数你需要获取一下）</p> \n   <p><strong>主要两个参数:</strong></p> \n   <ul>\n    <li>client_id 这个就是创建应用的App Key</li>\n    <li>redirect_uri 这个就是刚刚编辑的授权回调函数</li>\n   </ul> \n  </blockquote> \n  <blockquote> \n   <p>https://api.weibo.com/oauth2/access_token （这个网址是要根据你上面的code来获取用户的access_token和用户的uid）</p> \n   <p><strong>这是一个post请求 ！！！！！！</strong></p> \n   <p><strong>主要的参数</strong></p> \n   <pre><code class=\"prism language-java\">Map<span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>String<span class=\"token punctuation\">,</span>Object<span class=\"token punctuation\">&gt;</span></span> parmMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nparmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_id\"</span><span class=\"token punctuation\">,</span>你的App Key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nparmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_secret\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"你的secret\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nparmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"grant_type\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"authorization_code\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nparmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"redirect_uri\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"http://4b81f251.cpolar.io/wbLogin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//回调地址</span>\nparmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">,</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//这个code是刚刚回调请求的参数值</span>\n</code></pre> \n   <p>这些参数具体可以参照wiki: https://open.weibo.com/wiki/Oauth2/access_token</p> \n  </blockquote> \n  <blockquote> \n   <p>https://api.weibo.com/2/users/show.json?uid=\" + uid + “&amp;access_token=” + accessToken（uid是从上面的里面取出来的，access_token也是从上一个地址取出的）</p> \n   <p><strong>这是一个get请求</strong></p> \n   <p>最后这个网址的返回结果就是用户的各种信息，之后就自己操作了</p> \n  </blockquote> \n  <h5><a id=\"_62\"></a>编写测试代码</h5> \n  <ul>\n   <li> <p>发送http请求选择使用了hutool</p> <p><strong>hutool官网的地址</strong> https://www.hutool.cn/</p> </li>\n   <li> <p>pom依赖</p> <pre><code class=\"prism language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>cn.hutool<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span>hutool-all<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">&gt;</span></span>5.3.5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre> </li>\n   <li> <p>编写controller的代码</p> </li>\n  </ul> \n  <pre><code class=\"prism language-java\"><span class=\"token keyword\">package</span> com<span class=\"token punctuation\">.</span>wbloginthree<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> cn<span class=\"token punctuation\">.</span>hutool<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>HttpUtil<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> com<span class=\"token punctuation\">.</span>alibaba<span class=\"token punctuation\">.</span>fastjson<span class=\"token punctuation\">.</span>JSON<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span>Controller<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>RequestMapping<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>ResponseBody<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>HashMap<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>Map<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * @author 小哥\n */</span>\n<span class=\"token annotation punctuation\">@Controller</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LoginHandler</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/wbLogin\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@ResponseBody</span>\n    <span class=\"token keyword\">public</span> String <span class=\"token function\">wbLogin</span><span class=\"token punctuation\">(</span>String code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        Map<span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>String<span class=\"token punctuation\">,</span>Object<span class=\"token punctuation\">&gt;</span></span> parmMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        parmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_id\"</span><span class=\"token punctuation\">,</span>你的appkey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        parmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_secret\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"你的secret\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        parmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"grant_type\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"authorization_code\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        parmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"redirect_uri\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"http://4b81f251.cpolar.io/wbLogin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        parmMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">,</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        String post <span class=\"token operator\">=</span> HttpUtil<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://api.weibo.com/oauth2/access_token\"</span><span class=\"token punctuation\">,</span> parmMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Map<span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>String<span class=\"token punctuation\">,</span>String<span class=\"token punctuation\">&gt;</span></span> parse <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Map<span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>String<span class=\"token punctuation\">,</span> String<span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">)</span> JSON<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        String accessToken <span class=\"token operator\">=</span>  parse<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"access_token\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>accessToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        String uid <span class=\"token operator\">=</span>  parse<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"uid\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        String s <span class=\"token operator\">=</span> HttpUtil<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://api.weibo.com/2/users/show.json?uid=\"</span> <span class=\"token operator\">+</span> uid <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;access_token=\"</span> <span class=\"token operator\">+</span> accessToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre> \n  <ul>\n   <li>前端测试代码编写</li>\n  </ul> \n  <pre><code class=\"prism language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">&gt;</span></span>Title<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://api.weibo.com/oauth2/authorize?client_id=你的appkey&amp;response_type=code&amp;redirect_uri=你的回调地址<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>微博登录<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre> \n  <ul>\n   <li>这只是一个简单的demo，具体的业务大家可以根据需求去编写</li>\n  </ul> \n  <h5><a id=\"_135\"></a>到此为止就结束了。如有错误希望大家及时指出</h5> \n </div> \n <link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-98b95bb57c.css\" rel=\"stylesheet\"> \n <link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-c216769e99.css\" rel=\"stylesheet\"> \n</div>文章转载至https://blog.csdn.net/weixin_43800829/article/details/106410736', '#### {#_0}三方登录之微博登陆 {#content_views}\n\n##### {#_2}准备工作\n\n> 注册微博开放平台\n\n**注册地址:** https://open.weibo.com/\n\n**之后选择网站接入填写对应信息**   \n![在这里插入图片描述](https://img-blog.csdnimg.cn/20200528181804475.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgwMDgyOQ==,size_16,color_FFFFFF,t_70)  \n**基本信息照的这个填写**：\n\n![\\[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gI7zAMOv-1590661039292)(C:\\Users\\小哥\\Desktop\\mark笔记\\框架系列\\三方登录\\assets\\1590659018155.png)\\]](https://img-blog.csdnimg.cn/20200528181853743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgwMDgyOQ==,size_16,color_FFFFFF,t_70)\n\n**高级信息是你内网穿透的地址**\n\n![\\[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-FMgB1ZB3-1590661039295)(C:\\Users\\小哥\\Desktop\\mark笔记\\框架系列\\三方登录\\assets\\1590659077906.png)\\]](https://img-blog.csdnimg.cn/20200528181933196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgwMDgyOQ==,size_16,color_FFFFFF,t_70)\n> 内网穿透\n\n内网穿透工具地址：https://www.cpolar.com/\n\n下载 跑起来之后是这个样子\n\n![\\[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-iYYOjLrC-1590661039300)(C:\\Users\\小哥\\Desktop\\mark笔记\\框架系列\\三方登录\\assets\\1590659175156.png)\\]](https://img-blog.csdnimg.cn/20200528181953927.png)\n\n**有一个http的请求和一个https的请求，用哪个都是一样的** ，**这样就可以被外网访问到了**\n\n##### {#_30}你需要用到的三个连接\n\n> https://api.weibo.com/oauth2/authorize?client_id=你的appkey\\&response_type=code\\&redirect_uri=你的回调地址 （微博请求你的时候会在你的回调地址后加一个code参数，这个参数你需要获取一下）\n>\n> **主要两个参数:**\n>\n> * client_id 这个就是创建应用的App Key\n> * redirect_uri 这个就是刚刚编辑的授权回调函数\n> https://api.weibo.com/oauth2/access_token （这个网址是要根据你上面的code来获取用户的access_token和用户的uid）\n>\n> **这是一个post请求 ！！！！！！**\n>\n> **主要的参数**\n>\n> ```prism language-java\n> Map<String,Object> parmMap = new HashMap<>();\n> parmMap.put(\"client_id\",你的App Key);\n> parmMap.put(\"client_secret\",\"你的secret\");\n> parmMap.put(\"grant_type\",\"authorization_code\");\n> parmMap.put(\"redirect_uri\",\"http://4b81f251.cpolar.io/wbLogin\");   //回调地址\n> parmMap.put(\"code\",code);   //这个code是刚刚回调请求的参数值\n> ```\n>\n> 这些参数具体可以参照wiki: https://open.weibo.com/wiki/Oauth2/access_token\n> https://api.weibo.com/2/users/show.json?uid=\" + uid + \"\\&access_token=\" + accessToken（uid是从上面的里面取出来的，access_token也是从上一个地址取出的）\n>\n> **这是一个get请求**\n>\n> 最后这个网址的返回结果就是用户的各种信息，之后就自己操作了\n\n##### {#_62}编写测试代码\n\n* 发送http请求选择使用了hutool\n\n  **hutool官网的地址** https://www.hutool.cn/\n* pom依赖\n\n  ```prism language-xml\n  <dependency>\n      <groupId>cn.hutool</groupId>\n      <artifactId>hutool-all</artifactId>\n      <version>5.3.5</version>\n  </dependency>\n  ```\n\n* 编写controller的代码\n\n```prism language-java\npackage com.wbloginthree.demo.controller;\n\nimport cn.hutool.http.HttpUtil;\nimport com.alibaba.fastjson.JSON;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * @author 小哥\n */\n@Controller\npublic class LoginHandler {\n    @RequestMapping(\"/wbLogin\")\n    @ResponseBody\n    public String wbLogin(String code){\n        Map<String,Object> parmMap = new HashMap<>();\n        parmMap.put(\"client_id\",你的appkey);\n        parmMap.put(\"client_secret\",\"你的secret\");\n        parmMap.put(\"grant_type\",\"authorization_code\");\n        parmMap.put(\"redirect_uri\",\"http://4b81f251.cpolar.io/wbLogin\");\n        parmMap.put(\"code\",code);\n        String post = HttpUtil.post(\"https://api.weibo.com/oauth2/access_token\", parmMap);\n        Map<String,String> parse = (Map<String, String>) JSON.parse(post);\n        String accessToken =  parse.get(\"access_token\");\n        System.out.println(accessToken);\n        String uid =  parse.get(\"uid\");\n        String s = HttpUtil.get(\"https://api.weibo.com/2/users/show.json?uid=\" + uid + \"&access_token=\" + accessToken);\n        return s;\n    }\n}\n\n```\n\n* 前端测试代码编写\n\n```prism language-html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Title</title>\n</head>\n<body>\n<a href=\"https://api.weibo.com/oauth2/authorize?client_id=你的appkey&response_type=code&redirect_uri=你的回调地址\">微博登录</a>\n</body>\n</html>\n```\n\n* 这只是一个简单的demo，具体的业务大家可以根据需求去编写\n\n##### {#_135}到此为止就结束了。如有错误希望大家及时指出\n\n文章转载至https://blog.csdn.net/weixin_43800829/article/details/106410736\n', NULL, NULL, NULL, NULL, 0, NULL, 1, 'springboot实现第三方登陆----微博登录', 5, '2023-12-28 13:56:59', '2024-04-25 16:24:08', 0);
INSERT INTO `bk_blog` VALUES (3, 36, 'Redis缓冲穿透', '<p>Redis缓冲穿透</p>\n', 'Redis缓冲穿透', NULL, NULL, NULL, NULL, 0, NULL, 1, 'Redis缓冲穿透', 28, '2024-04-24 17:00:36', '2024-04-25 16:16:00', 0);
INSERT INTO `bk_blog` VALUES (4, 1, 'Redis缓冲穿透', '<p>Redis缓冲穿透</p>\n', 'Redis缓冲穿透', NULL, NULL, NULL, NULL, 0, NULL, 1, 'Redis缓冲穿透', 0, '2024-04-24 17:12:58', '2024-04-24 17:12:58', 0);
INSERT INTO `bk_blog` VALUES (5, 38, 'Redis缓存穿透', '<p><img src=\"http://113.45.186.233:8000/tripartite/file/downloadFileByLocal?name=C3F9F7F1463648C3B17908F5D0A578E1.png\" alt=\"捕获.PNG\" /><br />\n<img src=\"http://113.45.186.233:8000/tripartite/file/downloadFileByLocal?name=BA80A4E504ED48D8A440EB10874B6C50.png\" alt=\"捕获.PNG\" /></p>\n', '![捕获.PNG](http://113.45.186.233:8000/tripartite/file/downloadFileByLocal?name=C3F9F7F1463648C3B17908F5D0A578E1.png)\n![捕获.PNG](http://113.45.186.233:8000/tripartite/file/downloadFileByLocal?name=BA80A4E504ED48D8A440EB10874B6C50.png)\n', NULL, NULL, NULL, NULL, 0, NULL, 1, 'Redis缓存穿透', 1, '2024-04-25 16:14:08', '2024-04-25 16:24:20', 0);
INSERT INTO `bk_blog` VALUES (6, 38, 'Redis持久化', '<h3><a id=\"Redis_0\"></a>一、Redis的持久化</h3>\n<p>Redis是一个基于内存的数据库，它的数据是存放在内存中，内存有个问题就是关闭服务或者断电会丢失。Redis的数据也支持写到硬盘中，这个过程就叫做持久化。<br />\n<strong>Redis提供了2种不同形式的持久化方式：</strong></p>\n<pre><code>RDB（Redis DataBase） ：简而言之，就是在指定的时间间隔内，定时的将 redis 存储的数据生成Snapshot快照并存储到磁盘等介质上；\n\nAOF（Append Of File） ：将 redis 执行过的所有写指令记录下来，在下次 redis 重新启动时，只要把这些写指令从前到后再重复执行一遍，就可以实现数据恢复了。\n</code></pre>\n<p>RDB（Redis DataBase）：redis备份默认方式</p>\n<p><strong>同时允许使用两种方式</strong>： 其实 RDB 和 AOF 两种方式也可以同时使用，在这种情况下，如果 redis 重启的话，则会优先采用 AOF 方式来进行数据恢复，这是因为 AOF 方式的数据恢复完整度更高。</p>\n<p><strong>可以选择关闭持久化</strong>： 如果你没有数据持久化的需求，也完全可以关闭 RDB 和 AOF 方式，这样的话，redis 将变成一个纯内存数据库</p>\n<h3><a id=\"RDBRedis_DataBase_14\"></a>二、RDB（Redis DataBase）</h3>\n<p><strong>RDB，Redis DataBase</strong> ，是指将内存中某一时刻的 数据快照 全量 写入到指定的 rdb 文件 的持久化技术。 RDB 持久化默认是开启的。 当 Redis 启动时会 自动读取 RDB 快照文件，将数据从硬盘载入到内存， 以恢复 Redis 关机前的数据库状态。</p>\n<h3><a id=\"AOF_18\"></a>三.AOF持久化</h3>\n<p><strong>AOF，Append Only File</strong> ，是指 Redis 将每一次的 写操作 都以 日志的形式 记录到一个 AOF 文件中的持久化技术。当需要恢复内存数据时，将这些 写操作重新执行一次，便会恢复到之前的内存数据状态。</p>\n', '### 一、Redis的持久化\n  Redis是一个基于内存的数据库，它的数据是存放在内存中，内存有个问题就是关闭服务或者断电会丢失。Redis的数据也支持写到硬盘中，这个过程就叫做持久化。\n**Redis提供了2种不同形式的持久化方式：**\n\n	RDB（Redis DataBase） ：简而言之，就是在指定的时间间隔内，定时的将 redis 存储的数据生成Snapshot快照并存储到磁盘等介质上；\n\n	AOF（Append Of File） ：将 redis 执行过的所有写指令记录下来，在下次 redis 重新启动时，只要把这些写指令从前到后再重复执行一遍，就可以实现数据恢复了。\n\nRDB（Redis DataBase）：redis备份默认方式\n\n**同时允许使用两种方式**： 其实 RDB 和 AOF 两种方式也可以同时使用，在这种情况下，如果 redis 重启的话，则会优先采用 AOF 方式来进行数据恢复，这是因为 AOF 方式的数据恢复完整度更高。\n\n**可以选择关闭持久化**： 如果你没有数据持久化的需求，也完全可以关闭 RDB 和 AOF 方式，这样的话，redis 将变成一个纯内存数据库\n\n### 二、RDB（Redis DataBase）\n\n**RDB，Redis DataBase** ，是指将内存中某一时刻的 数据快照 全量 写入到指定的 rdb 文件 的持久化技术。 RDB 持久化默认是开启的。 当 Redis 启动时会 自动读取 RDB 快照文件，将数据从硬盘载入到内存， 以恢复 Redis 关机前的数据库状态。\n\n### 三.AOF持久化\n\n**AOF，Append Only File** ，是指 Redis 将每一次的 写操作 都以 日志的形式 记录到一个 AOF 文件中的持久化技术。当需要恢复内存数据时，将这些 写操作重新执行一次，便会恢复到之前的内存数据状态。', 'https://i3.wp.com/wx2.sinaimg.cn/large/0072Vf1pgy1fodqo40y6nj310o0p3b29.jpg', 3, 'Java', '原创', 0, 'Redis', 0, 'Redis持久化', 47, '2024-04-25 16:32:45', '2024-04-25 16:32:45', 0);

-- ----------------------------
-- Table structure for bk_blog_count
-- ----------------------------
DROP TABLE IF EXISTS `bk_blog_count`;
CREATE TABLE `bk_blog_count`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `interface_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '接口名称',
  `visit_date` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '记录时间',
  `amount` int(11) NULL DEFAULT 0 COMMENT '数量',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_blog_count
-- ----------------------------
INSERT INTO `bk_blog_count` VALUES (1, '获取文章接口', '2024-04-23', 5, '2024-04-24 00:30:00', '2024-04-24 00:30:00', 0);
INSERT INTO `bk_blog_count` VALUES (2, '获取文章接口', '2024-04-24', 28, '2024-04-25 00:30:00', '2024-04-25 00:30:00', 0);
INSERT INTO `bk_blog_count` VALUES (3, '获取文章接口', '2024-04-25', 147, '2024-04-26 00:30:00', '2024-04-26 00:30:00', 0);
INSERT INTO `bk_blog_count` VALUES (4, '获取文章接口', '2024-04-26', 0, '2024-04-27 00:30:00', '2024-04-27 00:30:00', 0);
INSERT INTO `bk_blog_count` VALUES (5, '获取文章接口', '2024-04-27', 0, '2024-04-28 00:30:00', '2024-04-28 00:30:00', 0);

-- ----------------------------
-- Table structure for bk_collet_folder
-- ----------------------------
DROP TABLE IF EXISTS `bk_collet_folder`;
CREATE TABLE `bk_collet_folder`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '文件夹名称',
  `user_id` bigint(20) NOT NULL COMMENT '用户id',
  `pid` bigint(20) NULL DEFAULT 0 COMMENT '上级id 没有父则为0',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '用户收藏文件夹表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_collet_folder
-- ----------------------------
INSERT INTO `bk_collet_folder` VALUES (1, '默认', 37, 0, '2023-12-28 14:18:50', '2023-12-28 14:18:50', 0);
INSERT INTO `bk_collet_folder` VALUES (2, '默认', 1, 0, '2024-04-06 11:02:04', '2024-04-06 11:02:04', 0);
INSERT INTO `bk_collet_folder` VALUES (3, '默认', 36, 0, '2024-04-17 19:57:26', '2024-04-17 19:57:26', 0);
INSERT INTO `bk_collet_folder` VALUES (4, '默认', 39, 0, '2024-04-24 22:12:55', '2024-04-24 22:12:55', 0);

-- ----------------------------
-- Table structure for bk_collet_user_folder
-- ----------------------------
DROP TABLE IF EXISTS `bk_collet_user_folder`;
CREATE TABLE `bk_collet_user_folder`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `folder_id` bigint(20) NULL DEFAULT NULL COMMENT '文件夹id',
  `user_id` bigint(20) NOT NULL COMMENT '用户id',
  `blog_id` bigint(20) NULL DEFAULT NULL COMMENT '文章id',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '收藏表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_collet_user_folder
-- ----------------------------
INSERT INTO `bk_collet_user_folder` VALUES (1, 3, 36, 3, '2024-04-24 18:45:10', '2024-04-24 18:45:10', 0);

-- ----------------------------
-- Table structure for bk_comment
-- ----------------------------
DROP TABLE IF EXISTS `bk_comment`;
CREATE TABLE `bk_comment`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `content` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '回复内容',
  `user_id` bigint(20) NOT NULL COMMENT '用户id',
  `pid` bigint(20) NULL DEFAULT NULL COMMENT '上级id',
  `reply_user_Id` int(11) NULL DEFAULT NULL COMMENT '被回复用户id',
  `blog_id` int(11) NULL DEFAULT NULL COMMENT '文章id',
  `like_count` int(11) NULL DEFAULT 0 COMMENT '点赞数',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `blog_index`(`blog_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 30 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_comment
-- ----------------------------
INSERT INTO `bk_comment` VALUES (1, '[衰]', 36, 0, 0, 1, 0, '2023-12-28 13:21:34', '2023-12-28 13:21:34', 0);
INSERT INTO `bk_comment` VALUES (2, '[奋斗][奋斗]', 37, 0, 0, 1, 0, '2023-12-28 14:19:25', '2023-12-28 14:19:25', 0);
INSERT INTO `bk_comment` VALUES (3, '[鼓掌][鼓掌][鼓掌]', 37, 0, 0, 1, 0, '2023-12-28 14:19:42', '2023-12-28 14:19:42', 0);
INSERT INTO `bk_comment` VALUES (4, '[呲牙][呲牙]', 37, 0, 0, 1, 0, '2023-12-28 14:24:34', '2023-12-28 14:24:34', 0);
INSERT INTO `bk_comment` VALUES (5, '[奋斗]', 37, 0, 0, 1, 0, '2023-12-28 14:24:56', '2023-12-28 14:24:56', 0);
INSERT INTO `bk_comment` VALUES (6, '66666', 37, 0, 0, 1, 0, '2023-12-28 14:26:43', '2023-12-28 14:26:43', 0);
INSERT INTO `bk_comment` VALUES (7, '66', 37, 0, 0, 1, 0, '2023-12-28 14:27:09', '2023-12-28 14:27:09', 0);
INSERT INTO `bk_comment` VALUES (8, '66', 37, 0, 0, 1, 0, '2023-12-28 14:27:26', '2023-12-28 14:27:26', 0);
INSERT INTO `bk_comment` VALUES (9, '101', 37, 0, 0, 1, 0, '2023-12-28 14:29:50', '2023-12-28 14:29:50', 0);
INSERT INTO `bk_comment` VALUES (10, '.', 37, 0, 0, 1, 0, '2023-12-28 14:30:00', '2023-12-28 14:30:00', 0);
INSERT INTO `bk_comment` VALUES (11, '666', 37, 1, 36, 1, 0, '2023-12-28 14:30:33', '2023-12-28 14:30:33', 0);
INSERT INTO `bk_comment` VALUES (12, '神秘', 37, 1, 36, 1, 0, '2023-12-28 14:30:58', '2023-12-28 14:30:58', 0);
INSERT INTO `bk_comment` VALUES (13, '[可怜]', 1, 0, 0, 2, 0, '2024-04-06 11:11:32', '2024-04-06 11:11:32', 0);
INSERT INTO `bk_comment` VALUES (14, '[可怜][皱眉]', 36, 0, 0, 2, 0, '2024-04-18 13:42:35', '2024-04-18 13:42:35', 0);
INSERT INTO `bk_comment` VALUES (15, '123123', 1, 0, 0, 2, 0, '2024-04-23 22:34:19', '2024-04-23 22:34:19', 0);
INSERT INTO `bk_comment` VALUES (16, '1大大', 1, 0, 0, 2, 0, '2024-04-23 23:20:28', '2024-04-23 23:20:28', 0);
INSERT INTO `bk_comment` VALUES (17, '达瓦达瓦', 1, 0, 0, 2, 0, '2024-04-23 23:20:32', '2024-04-23 23:20:32', 0);
INSERT INTO `bk_comment` VALUES (18, '低洼阿迪王', 1, 0, 0, 2, 0, '2024-04-23 23:21:16', '2024-04-23 23:21:16', 0);
INSERT INTO `bk_comment` VALUES (19, '[奋斗]', 36, 0, 0, 6, 0, '2024-04-25 18:06:38', '2024-04-25 18:06:38', 0);
INSERT INTO `bk_comment` VALUES (20, '[奋斗][奋斗][奋斗]', 36, 0, 0, 9, 0, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (21, '[皱眉][皱眉][皱眉]', 36, 0, 0, 10, 0, '2024-04-27 11:35:13', '2024-04-27 11:35:13', 1);
INSERT INTO `bk_comment` VALUES (22, '哈哈', 38, 20, 36, 9, 0, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (23, '***', 38, 20, 36, 9, 0, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (24, '说的什么', 36, 20, 38, 9, 0, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (25, '[摸鱼][摸鱼][摸鱼][摸鱼]', 38, 0, 0, 9, 1, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (26, '[可怜][可怜][可怜][可怜]', 36, 25, 38, 9, 1, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (27, '[流泪]', 36, 25, 38, 9, 0, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (28, '[大兵]', 36, 0, 0, 9, 0, '2024-04-27 11:35:10', '2024-04-27 11:35:10', 1);
INSERT INTO `bk_comment` VALUES (29, '[白眼]', 38, 0, 0, 12, 0, '2024-04-27 11:35:08', '2024-04-27 11:35:08', 1);

-- ----------------------------
-- Table structure for bk_question
-- ----------------------------
DROP TABLE IF EXISTS `bk_question`;
CREATE TABLE `bk_question`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `subject_title` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '名称',
  `difficulty` int(11) NULL DEFAULT 0 COMMENT '题目难度',
  `sort_id` bigint(20) NULL DEFAULT NULL COMMENT '分类id',
  `sort_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '分类名称',
  `type` bigint(20) NULL DEFAULT NULL COMMENT '题目类型 1选择题，2判断题',
  `answer_a` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '选项a',
  `answer_b` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '选项b',
  `answer_c` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '选项c',
  `answer_d` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '选项d',
  `imgs` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '图片',
  `answer_true` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '正确答案 判断题0错1对',
  `exam_points` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '考点',
  `analysis` varchar(5000) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '题目解析',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 34 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '题库' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_question
-- ----------------------------
INSERT INTO `bk_question` VALUES (1, '9，8，17，3，4，7，11，13，24，16，5，（ ）', 3, 29, '行测', 1, '29', '21', '18', '11', NULL, 'b', '数量关系', '数列项数较多，考虑多重数列。交叉看无规律，考虑分组。将原数列三三分组后得到：（9，8，17），（3，4，7），（11，13，24），（16，5，？），观察发现：9+8=17，3+4=7，11+13=24，即各组组内的规律为：第一项+第二项=第三项，故所求项为16+5=21。\r\n\r\n故正确答案为B。', '2023-12-31 17:00:54', '2023-12-31 17:00:54', 0);
INSERT INTO `bk_question` VALUES (15, '农田中有许多有趣的物理现象，下列关于这些现象的表述正确的是（ ）。', 3, 29, '行测', 1, '清晨时，农作物叶片上会有露珠形成，此现象属于汽化现象', '随着气温升高，农作物叶片上的露珠会慢慢消失，此现象属于液化现象', '随着气温升高，农田中的雾气会逐渐消散，此现象属于升华现象', '在某些寒冷地区的夜晚，树枝上会逐渐形成雾凇，此现象属于凝华现象', NULL, 'd', '科学推理', 'A项：露珠的形成是由于夜晚气温降低，空气中的水蒸气遇冷后液化形成小液滴，属于液化现象，错误；\nB项：露珠会慢慢消失是由于气温升高，露珠吸热后汽化形成水蒸气，属于汽化现象，错误；\nC项：雾为悬浮在空中的小液珠，雾气的消散是由于气温升高，空气中的小液珠吸热后汽化形成水蒸气，属于汽化现象，错误；\nD项：雾凇的形成是由于空气中水蒸气遇冷后凝华成小冰晶，属于凝华现象，正确。\n故正确答案为D。', '2023-12-31 17:00:19', '2023-12-31 17:00:19', 0);
INSERT INTO `bk_question` VALUES (16, '1+1=3?', 1, 8, '技术分享', 0, '', '', '', '', NULL, '0', NULL, '无', '2023-12-31 16:37:52', '2023-12-31 16:37:52', 1);
INSERT INTO `bk_question` VALUES (18, '\n某学院为运动会获奖的同学购买奖品，已知奖品有不同的种类，但每件奖品的价格相同，可选择3件套、4件套、5件套组成的礼盒。如果给每位获奖同学购买3件套，则剩余469元；如果给每位获奖同学购买5件套，则还需301元。最终该学院为每位获奖同学购买了4件套，剩余资金刚好可以为每位获奖同学拍12元/张的纪念照片。问奖品单价为多少元？', 3, 29, '行测', 1, '45', '50', '55', '60', NULL, 'c', '数量关系', '设运动会获奖的同学有x人，奖品单价为y元。根据题意可得：3xy+469=5xy-301，整理可得xy=385，则预算金额为3×385+469=1624元。又因为“最终该学院为每位获奖同学购买了4件套，剩余资金刚好可以为每位获奖同学拍12元/张的纪念照片”，则4xy+12x=1624，解得x=7。因此，奖品单价为385/7元。\n\n故正确答案为C。', '2023-12-31 20:50:28', '2023-12-31 20:50:28', 0);
INSERT INTO `bk_question` VALUES (19, '2023年3月，中共中央办公厅印发了《关于在全党大兴调查研究的工作方案》，要求各地区各部门结合实际认真贯彻落实。关于调查研究，下列表述正确的有几项？\n①调查研究是我们党的传家宝，也是做好工作的基本功\n②调查研究要直奔问题去，实行问题大梳理、难题大排查，着力打通贯彻执行中的堵点淤点难点\n③调查研究分为提高认识、制定方案、开展调研、深化研究、解决问题5个步骤\n④调查研究要严格遵守中央八项规定，采取“四直两不”方式', 4, 29, '行测', 1, '1', '2', '3', '4', NULL, 'b', NULL, '本题考查政治常识。\n\n①正确，《关于在全党大兴调查研究的工作方案》（以下简称《工作方案》）指出，调查研究是我们党的传家宝。党的十八大以来，以习近平同志为核心的党中央高度重视调查研究工作，习近平总书记强调指出，调查研究是谋事之基、成事之道，没有调查就没有发言权，没有调查就没有决策权；正确的决策离不开调查研究，正确的贯彻落实同样也离不开调查研究；调查研究是获得真知灼见的源头活水，是做好工作的基本功；要在全党大兴调查研究之风。\n\n②正确，《工作方案》指出，在全党大兴调查研究，要紧紧围绕全面贯彻落实党的二十大精神、推动高质量发展，直奔问题去，实行问题大梳理、难题大排查，着力打通贯彻执行中的堵点淤点难点。\n\n③错误，《工作方案》指出，在全党大兴调查研究，分为6个步骤：（一）提高认识；（二）制定方案；（三）开展调研；（四）深化研究；（五）解决问题；（六）督查回访。\n\n④错误，《工作方案》指出，调查研究要严格执行中央八项规定及其实施细则精神，轻车简从，厉行节约，不搞层层陪同。要采取“四不两直”方式（不发通知、不打招呼、不听汇报、不用陪同接待，直奔基层、直插现场的一种暗查暗访制度），多到困难多、群众意见集中、工作打不开局面的地方和单位开展调研，防止嫌贫爱富式调研。\n\n综上，①②表述正确，共2项。\n\n故正确答案为B。', '2023-12-29 16:46:27', '2023-12-29 16:46:27', 0);
INSERT INTO `bk_question` VALUES (25, '12312321', 3, 3, 'Java', 1, '1', '1', '1', '1', '[{\"name\":\"18952fe3864b32c.png\",\"url\":\"https://fb.fbstatic.cn/api/tarzan/images/18952fe3864b32c.png?width=700\",\"uid\":1703950375102,\"status\":\"success\"},{\"name\":\"360x80.png\",\"url\":\"https://www.pmbaobao.com/wp-content/uploads/2022/01/360x80.png\",\"uid\":1703950417462,\"status\":\"success\"}]', 'b', NULL, '123123123', '2023-12-30 23:52:35', '2023-12-30 23:52:35', 1);
INSERT INTO `bk_question` VALUES (26, '123132123', 4, 3, 'Java', 1, '1232', '13213', '12312', '3213', '', 'd', NULL, '231321', '2023-12-30 23:52:34', '2023-12-30 23:52:34', 1);
INSERT INTO `bk_question` VALUES (27, '每一项事业，不论大小，都是踏踏实实、一点一滴拼出来、干出来的。青年时期是苦练本领、增长才干的黄金时期，最忌______、浮于空想，最怕做事三天打鱼、两天晒网。对于青年而言，怀抱梦想，方有行动目标；_______，才能行稳致远。\n\n依次填入画横线部分最恰当的一项是：', 4, 29, '行测', 1, '凌空蹈虚 事必躬亲', '浮皮潦草 持之以恒', '好高骛远 埋头苦干', '徒托空言 不矜不伐', '', 'c', '言语理解', '第一空，顿号表并列，故横线处成语应与“浮于空想”表意相近，即体现出不切实际或不落实到实际之意，A项“凌空蹈虚”指没有史实根据的虚构，形容虚构，C项“好高骛远”指脱离实际地追求不可能实现的过高、过远的目标，D项“徒托空言”指只说空话，并不实行，均符合文意，保留。B项“浮皮潦草”形容不认真，不仔细，敷衍了事，侧重的是不认真，而非不切实际，排除。\n\n第二空，根据前文“每一项事业，不论大小，都是踏踏实实、一点一滴拼出来、干出来的”可知，横线处成语应体现踏实、实干，C项“埋头苦干”形容不声不响、一心一意地刻苦工作，符合文意，当选。A项“事必躬亲”指凡事都亲自去做，文段强调的是做事要踏实，并未表达凡事都亲自去做之意，排除；D项“不矜不伐”指不自以为了不起，不为自己吹嘘，形容谦逊，与文意无关，排除。\n\n故正确答案为C。\n\n【文段出处】《“一辈子办成一件事”（人民论坛）》', '2023-12-31 17:00:14', '2023-12-31 17:00:14', 0);
INSERT INTO `bk_question` VALUES (32, '在下图所示的电路中，电源电压保持不变，已知三个灯泡的电阻均为，灯泡两端电压为2V，电压表、测得的电压均为4V，则电流表的示数为（ ）。', 3, 29, '公务员', 1, '1A', '2A', '3A', '4A', '[{\"name\":\"18c7bfa94d8e9cd.png\",\"url\":\"https://fb.fbstatic.cn/api/tarzan/images/18c7bfa94d8e9cd.png?width=700\",\"uid\":1704023952543,\"status\":\"success\"}]', 'b', '科学推理,电路分析,', '无', '2023-12-31 20:01:51', '2023-12-31 20:01:51', 0);
INSERT INTO `bk_question` VALUES (33, '用下图装置来测定空气中氧气的含量，物质X应该选用（ ）。', 2, 29, '公务员', 1, '蜡烛', '硫粉', '木炭', '红磷', '[{\"name\":\"18c8af665c85297.png\",\"url\":\"https://fb.fbstatic.cn/api/tarzan/images/18c8af665c85297.png?width=700\",\"uid\":1704024210137,\"status\":\"success\"}]', 'd', '科学推理,', '测定空气中氧气的含量，原理是利用物质的燃烧消耗掉瓶内的氧气，使瓶内压强减小，烧杯内的水就会在大气压的作用下流入瓶中，最后占满氧气原本所占的体积，使内外气压再次平衡，此时流入的水的体积就是原本瓶内氧气的体积。\n\n红磷在瓶内燃烧，将瓶内空气中的氧气消耗掉，生成五氧化二磷固体，使瓶内压强减小，在大气压作用下，流入的水的体积就是原本瓶内氧气的体积，D项正确。蜡烛、硫粉、木炭在空气中燃烧后分别生成二氧化碳、二氧化硫、二氧化碳气体，使进入瓶内的水的体积不等于减少的氧气的体积，无法测定空气中氧气的含量，A、B、C三项均错误。\n\n故正确答案为D。', '2023-12-31 20:04:05', '2023-12-31 20:04:05', 0);

-- ----------------------------
-- Table structure for bk_sort
-- ----------------------------
DROP TABLE IF EXISTS `bk_sort`;
CREATE TABLE `bk_sort`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `content` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '分类名称',
  `img` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '分类图片',
  `is_default` int(11) NULL DEFAULT 1 COMMENT '是否默认分类 0默认',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 30 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_sort
-- ----------------------------
INSERT INTO `bk_sort` VALUES (3, 'Java', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.javasm.cn%2Fstatic%2Fupload%2Fimage%2F20210817%2F1629171735780077.jpg&refer=http%3A%2F%2Fwww.javasm.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1660640712&t=04374836677ca94a9a86b82ee6e6f3b5', 1, '2022-07-16 21:58:15', '2022-08-12 05:48:45', 0);
INSERT INTO `bk_sort` VALUES (7, '计算机知识', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic4.zhimg.com%2Fv2-cb7071de8bc4e2905efe9b6f97109c79_1440w.jpg%3Fsource%3D172ae18b&refer=http%3A%2F%2Fpic4.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1661046655&t=04c4eefe015ff35ad2de587f4f1a306e', 1, '2022-07-22 17:51:10', '2023-12-29 16:45:10', 1);
INSERT INTO `bk_sort` VALUES (8, '技术分享', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic1.zhimg.com%2Fv2-2531287534e43efb74956372ce651923_1440w.jpg%3Fsource%3D172ae18b&refer=http%3A%2F%2Fpic1.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1661046716&t=48c9eb30c8dfd1996918923a63c7638a', 1, '2022-07-22 17:52:10', '2023-12-29 16:42:10', 1);
INSERT INTO `bk_sort` VALUES (9, '工作经历', 'https://img2.baidu.com/it/u=2110338655,3162227233&fm=253&fmt=auto&app=120&f=JPEG?w=948&h=720', 1, '2022-07-22 17:52:55', '2022-07-22 17:52:55', 0);
INSERT INTO `bk_sort` VALUES (10, '生活日记', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg1.doubanio.com%2Fview%2Fnote%2Fl%2Fpublic%2Fp60677849.jpg&refer=http%3A%2F%2Fimg1.doubanio.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1661046812&t=bf0d909c58a865fbbfa3f4a86b831750', 1, '2022-07-22 17:53:52', '2022-07-22 17:53:52', 0);
INSERT INTO `bk_sort` VALUES (15, '后端', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.mp.itc.cn%2Fupload%2F20170313%2Fa7042a659266466ba88c20ea3647384a_th.png&refer=http%3A%2F%2Fimg.mp.itc.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1661927146&t=36df07f9370acc4840114b3c7966d858', 1, '2022-08-01 22:25:56', '2022-08-01 22:25:56', 0);
INSERT INTO `bk_sort` VALUES (16, '前端', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic1.zhimg.com%2Fv2-cda2e159a7f205aefe18e5631a1f83ad_1440w.jpg%3Fsource%3D172ae18b&refer=http%3A%2F%2Fpic1.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1661927222&t=685d3e85133767246178bcf9339194db', 1, '2022-08-01 22:27:11', '2022-08-01 22:27:11', 0);
INSERT INTO `bk_sort` VALUES (17, '游戏频道', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01dc155c360c97a8012090db616dd3.jpg%403000w_1l_2o_100sh.jpg&refer=http%3A%2F%2Fimg.zcool.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1661928311&t=540364a839df5bdaa4f0208980c4b541', 1, '2022-08-01 22:44:18', '2023-02-20 15:03:08', 0);
INSERT INTO `bk_sort` VALUES (18, '数据库', 'https://mall-ts.oss-cn-shanghai.aliyuncs.com/bk/headPortrait/0603d0a953e843d4967a6fe7b4f18eff气象预报.png', 1, '2022-08-12 05:36:16', '2023-02-20 15:02:34', 0);
INSERT INTO `bk_sort` VALUES (22, '其他', 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fcms-bucket.ws.126.net%2F2020%2F0510%2F8a9f31eaj00qa3cm7001ic000m800m8c.jpg&refer=http%3A%2F%2Fcms-bucket.ws.126.net&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1663133199&t=db0eca0b80a0c5f986ac6c7cb6acdf96', 0, '2022-08-15 21:26:48', '2022-08-15 21:26:48', 0);
INSERT INTO `bk_sort` VALUES (23, '中医', 'https://image.baidu.com/search/detail?ct=503316480&z=undefined&tn=baiduimagedetail&ipn=d&word=%E4%B8%AD%E5%8C%BB&step_word=&ie=utf-8&in=&cl=2&lm=-1&st=undefined&hd=undefined&latest=undefined&copyright=undefined&cs=1219944194,4098541916&os=233924436,723203296&simid=4202540034,459674636&pn=29&rn=1&di=7169026086108397569&ln=1799&fr=&fmq=1676882568970_R&fm=&ic=undefined&s=undefined&se=&sme=&tab=0&width=undefined&height=undefined&face=undefined&is=0,0&istype=0&ist=&jit=&bdtype=0&spn=0&pi=0&gsm=1e&objurl=https%3A%2F%2Fhbimg.b0.upaiyun.com%2F2f5b219387f47d043e7b2381bee4e5468122047da4bf-B3vxil_fw658&rpstart=0&rpnum=0&adpicid=0&nojc=undefined&dyTabStr=MCwzLDYsNSw0LDcsMSw4LDIsOQ%3D%3D', 1, '2023-02-20 16:43:00', '2023-02-24 14:08:48', 1);
INSERT INTO `bk_sort` VALUES (24, '游戏', 'https://img2.baidu.com/it/u=2043733481,229149890&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500', 1, '2023-02-24 14:08:36', '2023-02-24 14:08:36', 0);
INSERT INTO `bk_sort` VALUES (25, '计算机网络', NULL, 1, '2023-03-03 11:13:50', '2023-03-03 11:13:50', 0);
INSERT INTO `bk_sort` VALUES (26, '常识判断', NULL, 1, '2023-03-03 11:15:48', '2023-12-29 16:45:16', 1);
INSERT INTO `bk_sort` VALUES (27, 'Linux', NULL, 1, '2023-03-03 16:49:47', '2023-12-29 16:45:14', 1);
INSERT INTO `bk_sort` VALUES (28, 'sadwadaw', NULL, 1, '2023-03-04 20:07:50', '2023-03-04 20:07:53', 1);
INSERT INTO `bk_sort` VALUES (29, '公务员', NULL, 1, '2023-12-29 12:53:52', '2023-12-31 16:38:07', 0);

-- ----------------------------
-- Table structure for bk_tag
-- ----------------------------
DROP TABLE IF EXISTS `bk_tag`;
CREATE TABLE `bk_tag`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '标签名称',
  `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '更新时间',
  `is_delete` int(11) NULL DEFAULT 0 COMMENT '逻辑删除 0否1是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 36 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bk_tag
-- ----------------------------
INSERT INTO `bk_tag` VALUES (3, 'CSS', '2022-07-16 22:04:31', '2022-07-22 18:00:12', 0);
INSERT INTO `bk_tag` VALUES (4, 'Java', '2022-07-16 22:04:43', '2022-08-01 22:34:28', 0);
INSERT INTO `bk_tag` VALUES (5, 'SpringBoot', '2022-07-16 22:08:51', '2022-07-16 22:08:51', 0);
INSERT INTO `bk_tag` VALUES (6, 'SpringCloud', '2022-07-22 17:54:09', '2022-07-22 17:54:09', 0);
INSERT INTO `bk_tag` VALUES (9, 'Spring', '2022-07-22 17:59:28', '2022-07-22 17:59:28', 0);
INSERT INTO `bk_tag` VALUES (11, 'SpringMVC', '2022-07-22 17:59:44', '2022-07-22 17:59:44', 0);
INSERT INTO `bk_tag` VALUES (13, 'ORM框架', '2022-07-22 17:59:59', '2022-08-01 22:28:21', 0);
INSERT INTO `bk_tag` VALUES (15, '安全框架', '2022-07-22 17:59:59', '2022-08-01 22:34:02', 0);
INSERT INTO `bk_tag` VALUES (16, '分布式微服务', '2022-07-22 17:59:59', '2022-07-22 17:59:59', 0);
INSERT INTO `bk_tag` VALUES (17, 'Vue', '2022-07-22 17:59:59', '2022-07-22 17:59:59', 0);
INSERT INTO `bk_tag` VALUES (18, 'React', '2022-07-22 17:59:59', '2022-07-22 17:59:59', 0);
INSERT INTO `bk_tag` VALUES (24, 'HTML', '2022-07-22 18:02:04', '2022-07-22 18:02:04', 0);
INSERT INTO `bk_tag` VALUES (25, 'JavaScript', '2022-07-22 18:02:04', '2022-07-22 18:02:04', 0);
INSERT INTO `bk_tag` VALUES (26, '消息队列', '2022-07-22 18:02:04', '2022-08-01 22:29:12', 0);
INSERT INTO `bk_tag` VALUES (27, 'Redis', '2022-07-22 18:02:04', '2022-07-22 18:02:04', 0);
INSERT INTO `bk_tag` VALUES (29, '搜索引擎', '2022-07-22 18:02:04', '2022-08-01 22:29:45', 0);
INSERT INTO `bk_tag` VALUES (30, 'SpringCloud Alibaba', '2022-08-01 22:34:18', '2022-08-01 22:34:18', 0);
INSERT INTO `bk_tag` VALUES (31, '测试预先', '2022-08-12 05:15:00', '2022-08-12 05:20:39', 1);
INSERT INTO `bk_tag` VALUES (32, '数据结构与算法', '2022-08-31 01:00:03', '2022-08-31 01:00:03', 0);
INSERT INTO `bk_tag` VALUES (33, 'JVM', '2022-09-19 05:41:29', '2022-09-19 05:41:29', 0);
INSERT INTO `bk_tag` VALUES (34, '游戏', '2022-11-26 10:20:36', '2022-11-26 10:20:36', 0);
INSERT INTO `bk_tag` VALUES (35, '日记', '2023-08-01 21:30:26', '2023-08-01 21:30:26', 0);

SET FOREIGN_KEY_CHECKS = 1;
